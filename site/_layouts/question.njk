---
layout: base.njk
---
<article class="question-page" data-path="{{ pathId }}" data-question="{{ questionNum }}">
  <header class="question-header">
    <div class="path-name">{{ pathName }}</div>
    <div class="question-count">{{ questionNum }} / {{ totalQuestions }}</div>
  </header>

  {% if context %}
  <aside class="context">
    {% for part in context %}{% if part.setup %}<p class="setup">{{ part.setup }}</p>{% endif %}{% endfor %}
    {% for part in context %}{% if part.punchline %}<p class="punchline">{{ part.punchline }}</p>{% endif %}{% endfor %}
    {% for part in context %}{% if part.emoji %}<p class="emoji">{{ part.emoji }}</p>{% endif %}{% endfor %}
  </aside>
  {% endif %}

  {% if pillarName %}
  <div class="pillar-label">{{ pillarName }}</div>
  {% endif %}

  {% if pairName %}
  <div class="pair-label">{{ pairName }}</div>
  {% endif %}

  <h1 class="question-text">{{ questionText }}</h1>

  <form class="options" id="question-form">
    {% for option in options %}
    <label class="option">
      <input type="radio" name="answer" value="{{ loop.index0 }}" data-scores='{{ option.scores | dump | safe }}'>
      <span class="option-text">{{ option.label }}</span>
    </label>
    {% endfor %}
  </form>
</article>

{% if reveal %}
<aside class="educational-panel" id="educational-panel" hidden>
  <div class="educational-content">
    {% for part in reveal %}{% if part.setup %}<p class="setup">{{ part.setup }}</p>{% endif %}{% endfor %}
    {% for part in reveal %}{% if part.punchline %}<p class="punchline">{{ part.punchline }}</p>{% endif %}{% endfor %}
    {% for part in reveal %}{% if part.emoji %}<p class="emoji">{{ part.emoji }}</p>{% endif %}{% endfor %}
  </div>
  <button class="next-btn" id="next-btn" type="button">
    {% if isLast %}
      See Results
    {% else %}
      <span class="quote">"{{ quote }}" â€” <em>1984</em></span>
      <span class="arrow">(next) &rarr;</span>
    {% endif %}
  </button>
</aside>
{% endif %}
